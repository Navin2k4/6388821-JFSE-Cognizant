<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Local Community Event Portal</title>
    <!-- Internal CSS for demonstration -->
    <style>
      /* Internal CSS example */
      body {
        background-color: #222831;
      }
      .highlight {
        background: #948979;
        color: #222831;
        font-weight: bold;
        padding: 2px 4px;
      }
      button {
        background: linear-gradient(45deg, #948979, #DFD0B8);
        color: #222831;
      }
    </style>
    <!-- External CSS link -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav>
      <span style="font-weight: bold; font-size: 18px;">Community Portal</span>
      <div>
        <a href="#home">Home</a>
        <a href="#events">Events</a>
        <a href="#contact">Contact</a>
        <a href="help.html" target="_blank">Help</a>
      </div>
    </nav>

    <!-- Main Header with inline style -->
    <div id="welcomeBanner">Welcome to Your Community Hub</div>
    <h1 id="mainheader" style="font-size: 40px">Local Community Portal</h1>

    <div class="special-offer">

      <p>
        Don't miss our
        <span style=" font-weight: bold">special offer!</span>
      </p>
    </div>

    <marquee class="highlight">üéâ Exciting News: The Annual Community Fest 2025 is happening this Saturday at Central Park from 4 PM onwards! Join us for food, games, music, and cultural performances! üé∂üçîüé®</marquee>
    <p>
      Enjoy browsing our <span class="highlight">featured content</span> today!
    </p>

    <!-- Main Content Section -->
    <main id="home">
      <h2>
        Our portal is dedicated to keeping you connected with the latest
        happenings in your neighborhood. Whether it's cultural fests, charity
        drives, local markets, or sports meets ‚Äî we've got it covered. Stay
        informed and never miss an opportunity to get involved!
      </h2>
    </main>

    <!-- Multi-column News Bulletin Section -->
    <section>
      <h2>Community News Bulletin</h2>
      <div class="news-bulletin">
        <p>The annual community cleanup drive has been scheduled for next month. Volunteers are needed to help maintain our beautiful neighborhood parks and streets. This is a great opportunity to meet your neighbors and contribute to our shared environment.</p>
        <p>Local businesses are offering special discounts to community members who participate in our events. Show your event registration confirmation to participating merchants to receive exclusive offers.</p>
        <p>The community garden project is expanding! We're looking for green thumbs to help plant and maintain a new vegetable garden that will provide fresh produce for our local food bank.</p>
        <p>Don't forget about our monthly town hall meetings where you can voice your concerns and suggestions directly to local officials. Your participation makes a difference in shaping our community's future.</p>
      </div>
    </section>

    <!-- Events Section -->
    <section id="events">
      <h2>Upcoming Community Events</h2>
      <div class="events-container">
        <table>
          <caption>
            Snapshots from Our Recent Community Events
          </caption>
          <tr>
            <td class="eventCard">
              <img
                src="https://th.bing.com/th/id/OIP.0Gr6JlPwTWWdCu8DmF-BAAHaEQ?w=280&h=180&c=7&r=0&o=5&cb=iwc2&dpr=1.3&pid=1.7"
                alt="Community Cleanup"
                title="Community Cleanup Drive"
                class="event-image"
                ondblclick="enlargeImage(this)"
              />
              <br />Cleanup Drive <br />June 5, 10 AM at Central Park
            </td>
            <td class="eventCard">
              <img
                src="https://th.bing.com/th/id/OIP.72TcOURpq-d4hc8eaIHzwgHaE8?cb=iwc2&rs=1&pid=ImgDetMain"
                alt="Summer Fest"
                title="Summer Fest Celebrations"
                class="event-image"
                ondblclick="enlargeImage(this)"
              />
              <br />Summer Fest <br />June 15, 2 PM at Community Center
            </td>
            <td class="eventCard">
              <img
                src="https://th.bing.com/th/id/OIP.ZFaCRXWZBSZ2H4cKmuj_wgHaFj?w=225&h=180&c=7&r=0&o=5&cb=iwc2&dpr=1.3&pid=1.7"
                alt="Blood Donation Camp"
                title="Blood Donation Camp 2025"
                class="event-image"
                ondblclick="enlargeImage(this)"
              />
              <br />Blood Donation <br />June 12‚Äì14, Main Street Grounds
            </td>
          </tr>
          <tr>
            <td class="eventCard">
              <img
                src="https://th.bing.com/th/id/OIP.-F9V5HGURywIEpxYLl3xTgAAAA?w=225&h=180&c=7&r=0&o=5&cb=iwc2&dpr=1.3&pid=1.7"
                alt="Art Exhibition"
                title="Art in the Park 2025"
                class="event-image"
                ondblclick="enlargeImage(this)"
              />
              <br />Art in the Park <br />June 25, 4 PM, Riverside Walk
            </td>
            <td class="eventCard">
              <img
                src="https://th.bing.com/th/id/OIP.aRWkETbJUFzjQI4TfGRtqwHaD4?w=328&h=180&c=7&r=0&o=5&cb=iwc2&dpr=1.3&pid=1.7"
                alt="Charity Bake Sale"
                title="Local Charity Bake Sale"
                class="event-image"
                ondblclick="enlargeImage(this)"
              />
              <br />Bake Sale <br />June 8, 10 AM at Central Park
            </td>
            <td class="eventCard">
              <img
                src="https://th.bing.com/th/id/OIP.fzpGloOROFpp-JgKBem2SQHaFj?w=253&h=190&c=7&r=0&o=5&cb=iwc2&dpr=1.3&pid=1.7"
                alt="Neighborhood Sports"
                title="Community Sports Meet"
                class="event-image"
                ondblclick="enlargeImage(this)"
              />
              <br />Sports Meet <br />June 20, 9 AM‚Äì3 PM at City Hall
            </td>
          </tr>
        </table>
      </div>

      <p>Join any of these events and contribute towards building a vibrant and active community.</p>
    </section>


    <div class="promo-register-flex">

    <!-- Video Section -->
    <section>
      <h2>Event Promo Video</h2>
      <video
        id="promoVideo"
        width="400"
        controls
        oncanplay="videoReadyMessage()"
      >
        <source src="promo.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <p id="videoStatus"></p>
    </section>

    <!-- Registration Form -->
    <section>
      <h2>Register for Upcoming Events</h2>
      <form id="register-form-box" onsubmit="handleSubmit(event)">
        <div>
          <label for="name">Full Name:</label>
          <input
            name="name"
            type="text"
            id="name"
            placeholder="Enter your full name"
            required
            autofocus
          />
        </div>
        <div>
          <label for="email">Email Address:</label>
          <input
            name="mail"
            type="email"
            id="email"
            placeholder="example@mail.com"
            required
          />
        </div>
        <div>
          <label for="phone">Phone Number:</label>
          <input
            name="phone"
            type="text"
            id="phone"
            placeholder="Enter 10-digit phone number"
            required
            onblur="validatePhone()"
          />
        </div>
        <div>
          <label for="date">Preferred Date:</label>
          <input name="date" type="date" id="date" required />
        </div>
        <div>
          <label for="event_name">Select Event:</label>
          <select
            name="event_name"
            id="event_name"
            required
            onchange="showEventFee()"
          >
            <option value="">-- Select an Event --</option>
            <option value="cleanup_event">Community Cleanup</option>
            <option value="summer_fest">Summer Fest</option>
            <option value="blood_donation">Blood Donation</option>
            <option value="sports_meet">Sports Meet</option>
          </select>
          <p id="eventFee"></p>
        </div>
        <div>
          <label for="event_message">Message/Special Requirements:</label>
          <textarea
            name="message"
            id="event_message"
            placeholder="Enter your message or any special requirements"
            required
            onkeyup="countChars()"
          ></textarea>
          <p id="charCount">Characters: 0</p>
        </div>
        <div>
          <button type="submit">Register Now</button>
          <button type="button" onclick="clearForm()">Clear Form</button>
        </div>
        <output id="confirmationMessage"></output>
      </form>
    </section>
  </div>
    
    <!-- Location Services -->
    <section>
      <h2>Find Nearby Events</h2>
      <p>Discover events happening near you with our location service.</p>
      <button onclick="getLocation()">üìç Find Nearby Events</button>
      <p id="locationOutput"></p>
    </section>

    <!-- Contact Section -->
    <section id="contact">
      <h2>Contact Us</h2>
      <p>For general inquiries, partnership opportunities, or event submissions, please contact us:</p>
      <br />
      üìß Email: communityportal@example.com <br />
      üìû Phone: +1 (555) 123-4567 <br />
      üè¢ Office Address: 123 Main Street, YourTown, USA <br />
      üïí Office Hours: Monday - Friday, 9 AM - 5 PM
    </section>

    <!-- Footer Section -->
    <footer>
      <p>¬© 2025 Local Community Event Portal. All rights reserved.</p>
      <p>
        Connect with us on
        <a href="#" title="Facebook">Facebook</a> |
        <a href="#" title="Twitter">Twitter</a> |
        <a href="#" title="Instagram">Instagram</a>
      </p>
      <p>Building stronger communities, one event at a time.</p>
    </footer>

    <script>
      console.log("Portal Loaded: Ready for interaction."); // Initial load

      function handleSubmit(event) {
        event.preventDefault();
        console.log("Form submission initiated."); // Debug point

        const name = document.getElementById("name").value;
        const eventType = document.getElementById("event_name").value;
        const output = document.getElementById("confirmationMessage");

        // Example breakpoint
        debugger;

        if (eventType) {
          output.textContent = `Thank you, ${name}! You have successfully registered for the event: ${eventType
            .replace(/_/g, " ")
            .toUpperCase()}.`;
          output.style.color = "green";
        } else {
          output.textContent = "Please select a valid event.";
          output.style.color = "red";
        }
      }

      function validatePhone() {
        const phone = document.getElementById("phone").value;
        const phoneRegex = /^\d{10}$/;
        if (!phoneRegex.test(phone)) {
          alert("Please enter a valid 10-digit phone number.");
          document.getElementById("phone").focus();
        }
      }

      function showEventFee() {
        const fees = {
          cleanup_event: "$5",
          summer_fest: "$10",
          blood_donation: "Free",
          sports_meet: "$7",
        };

        const selected = document.getElementById("event_name").value;
        const feeOutput = document.getElementById("eventFee");
        feeOutput.textContent = selected ? `Fee: ${fees[selected]}` : "";
      }

      function enlargeImage(img) {
        img.classList.toggle("enlarged");
      }

      function countChars() {
        const message = document.getElementById("event_message").value;
        document.getElementById(
          "charCount"
        ).textContent = `Characters: ${message.length}`;
      }

      function videoReadyMessage() {
        document.getElementById("videoStatus").textContent =
          "üéâ Video ready to play!";
      }

      window.onbeforeunload = function (e) {
        const form = document.getElementById("registrationForm");
        const inputs = form.querySelectorAll("input, select, textarea");
        for (let input of inputs) {
          if (input.value !== "") {
            return "You have unsaved changes. Are you sure you want to leave?";
          }
        }
      };

      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("registrationForm");
        const inputs = form.querySelectorAll("input, select");

        inputs.forEach((input) => {
          const id = input.id;
          if (!id) return;

          // Restore saved values
          const savedValue = localStorage.getItem(id);
          if (savedValue) {
            if (input.type === "radio") {
              if (input.value === savedValue) input.checked = true;
            } else {
              input.value = savedValue;
            }
          }

          // Save on change
          input.addEventListener("change", () => {
            if (input.type === "radio") {
              const name = input.name;
              const checkedRadio = form.querySelector(
                `input[name="${name}"]:checked`
              );
              if (checkedRadio) {
                localStorage.setItem(name, checkedRadio.value);
              }
            } else {
              localStorage.setItem(id, input.value);
            }
          });
        });

        // If preferred event is loaded, show its fee
        if (document.getElementById("event_name").value) {
          showEventFee();
        }
      });

      function clearAllPreferences() {
        const form = document.getElementById("registrationForm");
        const inputs = form.querySelectorAll("input, select");
        inputs.forEach((input) => {
          if (input.id) localStorage.removeItem(input.id);
          if (input.name && input.type === "radio")
            localStorage.removeItem(input.name);
        });
        localStorage.clear(); // Optional: remove this line if you have other unrelated data
        alert("All saved data cleared!");
        location.reload();
      }

      function getLocation() {
        const output = document.getElementById("locationOutput");
        if (!navigator.geolocation) {
          output.textContent = "Geolocation is not supported by your browser.";
          return;
        }

        navigator.geolocation.getCurrentPosition(
          function (position) {
            output.innerHTML = `Your location:<br>Latitude: ${position.coords.latitude}<br>Longitude: ${position.coords.longitude}`;
            console.log("Coordinates obtained:", position.coords);
          },
          function (error) {
            switch (error.code) {
              case error.PERMISSION_DENIED:
                output.textContent =
                  "Permission denied. Please enable location access.";
                break;
              case error.TIMEOUT:
                output.textContent = "Request timed out. Try again.";
                break;
              default:
                output.textContent = "Unable to retrieve your location.";
            }
          },
          {
            enableHighAccuracy: true,
            timeout: 10000,
            maximumAge: 0,
          }
        );
      }
    </script>
  </body>
</html>
